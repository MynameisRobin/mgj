webpackJsonp([6],{11:function(e,n,t){"use strict";function i(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function i(o,r){try{var a=n[o](r),s=a.value}catch(e){return void t(e)}if(!a.done)return Promise.resolve(s).then(function(e){i("next",e)},function(e){i("throw",e)});e(s)}return i("next")})}}Object.defineProperty(n,"__esModule",{value:!0});var o=t(2),r=t.n(o),a=function(){return t.e(58).then(t.bind(null,224))},s=function(){return t.e(59).then(t.bind(null,131))},d=function(){return t.e(10).then(t.bind(null,50))},c=function(){return t.e(53).then(t.bind(null,223))},u=function(){return t.e(55).then(t.bind(null,453))},l=function(){return t.e(57).then(t.bind(null,337))};n.default=function(){var e=i(r.a.mark(function e(n,i){var o,f,m,w,p,h,v,g,b,x,y,O,A,L,E,$,k,F,D,P,q,C,N,M,_,T,z,H,R,S,I,V,j,J,U,W,B,G,K;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(z=function(){window.location.href="../index.html"},T=function e(){if("v2cart"==window.$app.$route.name||"v2owner"==window.$app.$route.name||"v2pt"==window.$app.$route.name||"v2index"==window.$app.$route.name||"v2search"==window.$app.$route.name){i.dispatch("showToast",{text:"再点击一次退出!",type:"text"}),document.removeEventListener("backbutton",e,!1),document.addEventListener("backbutton",z,!1);var n=window.setInterval(function(){window.clearInterval(n),document.removeEventListener("backbutton",z,!1),document.addEventListener("backbutton",e,!1)},3e3)}else window.$app.$router.go(-1)},o=navigator.userAgent.toLowerCase(),f=window.device2,o.indexOf("like mac os x")>0&&(w=/os [\d._]*/gi,p=o.match(w),m=(p+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".")),h=m+"","undefined"!=h&&h.length>0&&(m=m.substring(0,1))<=8&&t.e(11).then(function(){t(188)}.bind(null,t)).catch(t.oe),/android/.test(o)&&(v=o.substr(o.indexOf("android")+8,3))<5&&t.e(11).then(function(){t(188)}.bind(null,t)).catch(t.oe),f&&(f.iphone()||f.ipod()||f.ipad())?i.commit("setDevice",{device:"ios"}):f&&f.android()?i.commit("setDevice",{device:"android"}):"micromessenger"==o.match(/MicroMessenger/i)&&i.commit("setDevice",{device:"weixin"}),g=window.location.port,b=window.document.location.pathname,x=window.location.href,i.commit("setRootUrl","http://"+window.location.hostname+(""==g?g:":"+g)+"/wxmall/"),-1!=x.indexOf("from=timeline")&&"weixin"==i.state.device?(y=x.replace("from=timeline&isappinstalled=0","").replace("from=timeline&isappinstalled=1",""),-1==x.indexOf("?#")&&(b="/"+b.split("/")[1]+"/",O=y.substr(0,y.indexOf(b)+b.length),A=y.substring(y.indexOf("#")+1),y=O+"?#"+A),window.location.href=y):-1!=x.indexOf("from=singlemessage")&&"weixin"==i.state.device?(L=x.replace("from=singlemessage&isappinstalled=0","").replace("from=singlemessage&isappinstalled=1",""),-1==x.indexOf("?#")&&(b="/"+b.split("/")[1]+"/",E=L.substr(0,L.indexOf(b)+b.length),$=L.substring(L.indexOf("#")+1),L=E+"?#"+$),window.location.href=L):-1!=x.indexOf("from=groupmessage")&&"weixin"==i.state.device&&(k=x.replace("from=groupmessage&isappinstalled=0","").replace("from=groupmessage&isappinstalled=1",""),-1==x.indexOf("?#")&&(b="/"+b.split("/")[1]+"/",F=k.substr(0,k.indexOf(b)+b.length),D=k.substring(k.indexOf("#")+1),k=F+"?#"+D),window.location.href=k),"/wxmall/"!=b&&"weixin"==i.state.device?(P=x.indexOf("#"),q=void 0,-1!=P&&(q=x.substring(x.indexOf("#")+b.length)),void 0!==q&&(window.location.href=i.state.root+"?#"+q)):-1!=x.indexOf(b)&&"?"!=x.substr(x.indexOf(b)+b.length,1)&&"weixin"==i.state.device?(C=x.substr(0,x.indexOf(b)+b.length),N=x.substring(x.indexOf(b)+b.length),window.location.href=C+"?"+N):-1==x.indexOf("?#")&&"weixin"==i.state.device&&(M=x.substr(0,x.indexOf(b)+b.length),_=x.substring(x.indexOf("#")+1),window.location.href=M+"?#"+_),document.addEventListener("deviceready",function(){document.addEventListener("backbutton",T,!1)},!1),document.body.addEventListener("touchstart",function(){}),Date.now||(Date.now=function(){return(new Date).getTime()}),H=["webkit","moz"],R=0;R<H.length&&!window.requestAnimationFrame;++R)S=H[R],window.requestAnimationFrame=window[S+"RequestAnimationFrame"],window.cancelAnimationFrame=window[S+"CancelAnimationFrame"]||window[S+"CancelRequestAnimationFrame"];return!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)&&window.requestAnimationFrame&&window.cancelAnimationFrame||(I=0,window.requestAnimationFrame=function(e){var n=Date.now(),t=Math.max(I+16,n);return setTimeout(function(){e(I=t)},t-n)},window.cancelAnimationFrame=clearTimeout),void 0===Array.prototype.remove&&(Array.prototype.remove=function(e){if(isNaN(e)||e>this.length)return!1;for(var n=0,t=0;n<this.length;n++)this[n]!=this[e]&&(this[t++]=this[n]);this.length-=1}),window.getNodeSize=function(e){function n(e){var i=t(e).getPropertyValue("display"),o=e.nodeName.toLowerCase();"none"!=i&&"body"!=o?n(e.parentNode):(r.push(e),"body"!=o&&n(e.parentNode))}function t(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=window),n.getComputedStyle(e)}var i,o,r=[],a=[];return n(e),function(){for(var e=0;e<r.length;e++){var n=r[e].style.visibility,t=r[e].style.display,i=r[e].getAttribute("style");r[e].setAttribute("style","visibility:hidden;display:block !important;"+i),a[e]={visibility:n,display:t}}}(),i=e.clientWidth,o=e.clientHeight,function(){for(var e=0;e<r.length;e++)r[e].style.visibility=a[e].visibility,r[e].style.display=a[e].display}(),{width:i,height:o}},e.next=25,a();case 25:return V=e.sent.default,n.use(V),e.next=29,c();case 29:return j=e.sent.default,n.use(j),e.next=33,u();case 33:return J=e.sent,n.use(J,{preLoad:1,error:"./static/img/error.png",loading:"http://mmh-mall.oss-cn-shenzhen.aliyuncs.com/def/defimg.png",attempt:2,listenEvents:["animationend","transitionend","touchmove"]}),e.next=37,l();case 37:return U=e.sent,"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){U(document.body)},!1),e.next=41,s();case 41:return W=e.sent.default,n.use(W),e.next=45,d();case 45:B=e.sent.default,G=new B,K=G.get("environment"),null!=K&&"dev"==K?(new Promise(function(e){e()}).then(function(){t.e(56).then(function(){t(452)}).catch(t.oe)}.bind(null,t)).catch(t.oe),window.onerror=function(e,n,t){console.error(e)},n.config.errorHandler=function(e,n){console.error(e)}):t.e(50).then(function(){var e=t(352),i=t(348);e.config("https://11cfd7b465204229932058deeef6e9e4@sentry.io/150972").addPlugin(i,n).install(),window.onerror=function(n,t,i){return e.captureException(n),console.error(n),!1},n.config.errorHandler=function(n,t){e.captureException(n),console.error(n)}}.bind(null,t)).catch(t.oe);case 49:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}()}});